<div class="w-52 bg-gray-800 rounded-xl shadow-lg overflow-hidden transition-transform transform
            hover:scale-105 cursor-pointer flex flex-col">
    <!-- Product Image -->
    <div class="relative w-full h-40 bg-gray-700 flex items-center justify-center">
        <img src="/assets/icons/01-sample-icon.svg" alt="Product Image" class="w-28 h-28 object-cover">
    </div>

    <!-- Product Info -->
    <div class="p-4 flex flex-col flex-grow">
        <!-- Product Name (Wrapped in full) -->
        <h2 class="text-white text-base font-semibold leading-tight break-words">{{ cartItem.getProduct().getName() }}</h2>
        <span class="mt-2 text-gray-400 text-sm font-medium">
            {{ cartItem.getProduct().getProductUnitValue() }} {{ cartItem.getProduct().getProductUnitLabel() }}
        </span>

        <!-- Spacer to push the Price & Add section to the bottom -->
        <div class="mt-auto"></div>

        <!-- Price & Add/Quantity Section (Aligned at bottom uniformly) -->
        <div class="flex justify-between items-center mt-3">
            <p class="text-white font-bold text-lg">
                {{ cartItem.getProduct().getPrice() | currency:'INR':'symbol' }}
            </p>
            <!-- Quantity Toggle -->
            <ng-container *ngIf="cartItem.getQuantity() > 0; else addButton">
                <!-- Quantity Control: Integrated unit with smart hover effect -->
                <div class="relative group w-24 h-8 bg-gray-700 rounded-lg flex items-center justify-center">
                    <!-- Always visible quantity -->
                    <span class="text-white font-medium">{{ cartItem.getQuantity() }}</span>
                    <!-- Minus Button: Appears on hover -->
                    <button (click)="decrementQuantity()"
                            class="absolute left-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200
                            focus:outline-none">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-white" fill="none"
                             viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 12H4"/>
                        </svg>
                    </button>
                    <!-- Plus Button: Appears on hover -->
                    <button (click)="incrementQuantity()"
                            class="absolute right-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200
                            focus:outline-none">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-white" fill="none"
                             viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
                        </svg>
                    </button>
                </div>
            </ng-container>
            <!--  Add To Cart - "Add" Button when quantity is zero  -->
            <ng-template #addButton>
                <button (click)="addToCart()"
                        class="px-4 py-1 bg-blue-500 text-white font-semibold rounded-lg hover:bg-blue-600
                        transition-all focus:outline-none">
                    Add
                </button>
            </ng-template>
        </div>
    </div>
</div>
